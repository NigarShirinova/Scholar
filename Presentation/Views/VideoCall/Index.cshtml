@{
    var remoteUserId = ViewBag.RemoteUserId;
    var lessonId = ViewBag.LessonId;
}

<div class="main-content">
    <header class="header" style="text-align: center; margin-bottom: 20px;">
        <h1 style="font-size: 32px;">Video Call</h1>
    </header>

    <div class="video-container">
        <div class="video-wrapper">
            <video id="localVideo" autoplay muted playsinline></video>
        </div>
        <div class="video-wrapper">
            <video id="remoteVideo" autoplay playsinline></video>
        </div>
    </div>
</div>

<style>
    .video-container {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 20px;
    }

    .video-wrapper {
        position: relative;
        width: 90%;
        max-width: 640px;
        padding-bottom: 56.25%; /* 16:9 */
        border: 10px solid #7a6ad8;
        border-radius: 20px;
        overflow: hidden;
        background-color: #000;
    }

        .video-wrapper video {
            position: absolute;
            width: 100%;
            height: 100%;
            object-fit: cover;
            top: 0;
            left: 0;
            border: none;
            border-radius: 20px;
        }

    @@media (min-width: 768px) {
        .video-container

    {
        flex-direction: row;
    }

    .video-wrapper {
        width: 45%;
        padding-bottom: 25.3%;
    }

    }
</style>

<script src="https://cdnjs.cloudflare.com/ajax/libs/microsoft-signalr/6.0.0/signalr.min.js"></script>

<script>
    const url = new URL(window.location);
    url.searchParams.set("with", "@remoteUserId");
    url.searchParams.set("lesson", "@lessonId");
    window.history.replaceState(null, null, url);
</script>

<script src="~/js/videocall.js"></script>
